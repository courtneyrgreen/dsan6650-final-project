---
title: "4 Methods"
format: html
---

## 4.1 PPO Agent

- Algorithm: MaskablePPO (SB3-Contrib), action masking from the environment.
- Key hyperparameters: n_steps=2048, batch_size=256, gamma=0.995, gae_lambda=0.95, ent_coef=0.01.
- Guardrails: serve_per_tick=3, bake‑mask prioritizes serving when possible.

## 4.2 Pricing Bandit

- Thompson Sampling over global daily price multiplier arms.
- Variants:
  - Penalty-based metric (composite): profit − 0.02×wait_ticks − 5×abandoned − 2×balked.
  - Profit‑only metric: uses net profit directly; widened arms (e.g., 0.7–1.3).

## 4.3 Baseline Policies

- Bake-to-Par: maintain simple par levels by baking largest deficits; always serve earliest matching customer.
- Greedy-Queue: bake the most requested item in queue; fallback to demand mix.
- Newsvendor: set daily targets from expected demand; bake toward largest target gaps; this is the strongest baseline here.


